---
title: parquet_encode
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

> This component is experimental and therefore subject to change or removal outside of major version releases.
\{\{style="warning"\}\}
Encodes https://parquet.apache.org/docs/[Parquet files^] from a batch of structured messages.

Introduced in version 4.4.0.


This processor uses https://github.com/parquet-go/parquet-go[https://github.com/parquet-go/parquet-go^], which is itself experimental. Therefore changes could be made into how this processor functions outside of major version releases.



## Examples
<tabs>
<tab title="Example 0">
	In this example we use the batching mechanism of an `aws_s3` output to collect a batch of messages in memory, which then converts it to a parquet file and uploads it.
	<code-block lang="yaml">
		
output:
  aws_s3:
    bucket: TODO
    path: 'stuff/${! timestamp_unix() }-${! uuid_v4() }.parquet'
    batching:
      count: 1000
      period: 10s
      processors:
        - parquet_encode:
            schema:
              - name: id
                type: INT64
              - name: weight
                type: DOUBLE
              - name: content
                type: BYTE_ARRAY
            default_compression: zstd

	</code-block>
</tab>

</tabs>


## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `schema` | `array` | `` | Parquet schema. |
| `schema[].name` | `string` | `` | The name of the column. |
| `schema[].type` | `string` | `` | The type of the column, only applicable for leaf columns with no child fields. Some logical types can be specified here such as UTF8. |
| `schema[].repeated` | `bool` | `false` | Whether the field is repeated. |
| `schema[].optional` | `bool` | `false` | Whether the field is optional. |
| `schema[].fields` | `array` | `` | A list of child fields. |
| `default_compression` | `string` | `"uncompressed"` | The default compression type to use for fields. |
| `default_encoding` | `string` | `"DELTA_LENGTH_BYTE_ARRAY"` | The default encoding type to use for fields. A custom default encoding is only necessary when consuming data with libraries that do not support `DELTA_LENGTH_BYTE_ARRAY` and is therefore best left unset where possible. |

