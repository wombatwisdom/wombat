---
title: mongodb
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

> This component is experimental and therefore subject to change or removal outside of major version releases.
\{\{style="warning"\}\}
Performs operations against MongoDB for each message, allowing you to store or retrieve data within message payloads.

Introduced in version 3.43.0.





## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `url` | `string` | `` | The URL of the target MongoDB server. |
| `database` | `string` | `` | The name of the target MongoDB database. |
| `username` | `string` | `""` | The username to connect to the database. |
| `password` | `string` | `""` | The password to connect to the database. |
| `app_name` | `string` | `"benthos"` | The client application name. |
| `collection` | `string` | `` | The name of the target collection. |
| `operation` | `string` | `"insert-one"` | The mongodb operation to perform. |
| `write_concern` | `object` | `` | The write concern settings for the mongo connection. |
| `write_concern.w` | `string` | `""` | W requests acknowledgement that write operations propagate to the specified number of mongodb instances. |
| `write_concern.j` | `bool` | `false` | J requests acknowledgement from MongoDB that write operations are written to the journal. |
| `write_concern.w_timeout` | `string` | `""` | The write concern timeout. |
| `document_map` | `string` | `""` | A bloblang map representing a document to store within MongoDB, expressed as https://www.mongodb.com/docs/manual/reference/mongodb-extended-json/[extended JSON in canonical form^]. The document map is required for the operations insert-one, replace-one and update-one. |
| `filter_map` | `string` | `""` | A bloblang map representing a filter for a MongoDB command, expressed as https://www.mongodb.com/docs/manual/reference/mongodb-extended-json/[extended JSON in canonical form^]. The filter map is required for all operations except insert-one. It is used to find the document(s) for the operation. For example in a delete-one case, the filter map should have the fields required to locate the document to delete. |
| `hint_map` | `string` | `""` | A bloblang map representing the hint for the MongoDB command, expressed as https://www.mongodb.com/docs/manual/reference/mongodb-extended-json/[extended JSON in canonical form^]. This map is optional and is used with all operations except insert-one. It is used to improve performance of finding the documents in the mongodb. |
| `upsert` | `bool` | `false` | The upsert setting is optional and only applies for update-one and replace-one operations. If the filter specified in filter_map matches, the document is updated or replaced accordingly, otherwise it is created. |
| `json_marshal_mode` | `string` | `"canonical"` | The json_marshal_mode setting is optional and controls the format of the output message. |

