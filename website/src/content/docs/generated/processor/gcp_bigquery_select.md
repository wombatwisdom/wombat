---
title: gcp_bigquery_select
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

> This component is experimental and therefore subject to change or removal outside of major version releases.
\{\{style="warning"\}\}
Executes a `SELECT` query against BigQuery and replaces messages with the rows returned.

Introduced in version 3.64.0.



## Examples
<tabs>
<tab title="Example 0">
	
Given a stream of English terms, enrich the messages with the word count from Shakespeare's public works:
	<code-block lang="yaml">
		
pipeline:
  processors:
    - branch:
        processors:
          - gcp_bigquery_select:
              project: test-project
              table: bigquery-public-data.samples.shakespeare
              columns:
                - word
                - sum(word_count) as total_count
              where: word = ?
              suffix: |
                GROUP BY word
                ORDER BY total_count DESC
                LIMIT 10
              args_mapping: root = [ this.term ]
        result_map: |
          root.count = this.get("0.total_count")

	</code-block>
</tab>

</tabs>


## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `project` | `string` | `` | GCP project where the query job will execute. |
| `credentials_json` | `string` | `""` | An optional field to set Google Service Account Credentials json. |
| `table` | `string` | `` | Fully-qualified BigQuery table name to query. |
| `columns` | `array` | `` | A list of columns to query. |
| `where` | `string` | `` | An optional where clause to add. Placeholder arguments are populated with the `args_mapping` field. Placeholders should always be question marks (`?`). |
| `job_labels` | `object` | `{}` | A list of labels to add to the query job. |
| `args_mapping` | `string` | `` | An optional xref:guides:bloblang/about.adoc[Bloblang mapping] which should evaluate to an array of values matching in size to the number of placeholder arguments in the field `where`. |
| `prefix` | `string` | `` | An optional prefix to prepend to the select query (before SELECT). |
| `suffix` | `string` | `` | An optional suffix to append to the select query. |

