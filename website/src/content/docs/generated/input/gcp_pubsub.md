---
title: gcp_pubsub
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

Consumes messages from a GCP Cloud Pub/Sub subscription.


For information on how to set up credentials see https://cloud.google.com/docs/authentication/production[this guide^].

## Metadata

This input adds the following metadata fields to each message:

- gcp_pubsub_publish_time_unix - The time at which the message was published to the topic.
- gcp_pubsub_delivery_attempt - When dead lettering is enabled, this is set to the number of times PubSub has attempted to deliver a message.
- All message attributes

You can access these metadata fields using xref:configuration:interpolation.adoc#bloblang-queries[function interpolation].





## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `project` | `string` | `` | The project ID of the target subscription. |
| `credentials_json` | `string` | `""` | An optional field to set Google Service Account Credentials json. |
| `subscription` | `string` | `` | The target subscription ID. |
| `endpoint` | `string` | `""` | An optional endpoint to override the default of `pubsub.googleapis.com:443`. This can be used to connect to a region specific pubsub endpoint. For a list of valid values, see https://cloud.google.com/pubsub/docs/reference/service_apis_overview#list_of_regional_endpoints[this document^]. |
| `sync` | `bool` | `false` | Enable synchronous pull mode. |
| `max_outstanding_messages` | `int` | `1000` | The maximum number of outstanding pending messages to be consumed at a given time. |
| `max_outstanding_bytes` | `int` | `1000000000` | The maximum number of outstanding pending messages to be consumed measured in bytes. |
| `create_subscription` | `object` | `` | Allows you to configure the input subscription and creates if it doesn't exist. |
| `create_subscription.enabled` | `bool` | `false` | Whether to configure subscription or not. |
| `create_subscription.topic` | `string` | `""` | Defines the topic that the subscription should be vinculated to. |

