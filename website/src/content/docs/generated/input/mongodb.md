---
title: mongodb
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

> This component is experimental and therefore subject to change or removal outside of major version releases.
\{\{style="warning"\}\}
Executes a query and creates a message for each document received.

Introduced in version 3.64.0.


Once the documents from the query are exhausted, this input shuts down, allowing the pipeline to gracefully terminate (or the next input in a xref:components:inputs/sequence.adoc[sequence] to execute).




## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `url` | `string` | `` | The URL of the target MongoDB server. |
| `database` | `string` | `` | The name of the target MongoDB database. |
| `username` | `string` | `""` | The username to connect to the database. |
| `password` | `string` | `""` | The password to connect to the database. |
| `app_name` | `string` | `"benthos"` | The client application name. |
| `collection` | `string` | `` | The collection to select from. |
| `operation` | `string` | `"find"` | The mongodb operation to perform. |
| `json_marshal_mode` | `string` | `"canonical"` | The json_marshal_mode setting is optional and controls the format of the output message. |
| `query` | `string` | `` | Bloblang expression describing MongoDB query. |
| `auto_replay_nacks` | `bool` | `true` | Whether messages that are rejected (nacked) at the output level should be automatically replayed indefinitely, eventually resulting in back pressure if the cause of the rejections is persistent. If set to `false` these messages will instead be deleted. Disabling auto replays can greatly improve memory efficiency of high throughput streams as the original shape of the data can be discarded immediately upon consumption and mutation. |
| `batch_size` | `int` | `` | A explicit number of documents to batch up before flushing them for processing. Must be greater than `0`. Operations: `find`, `aggregate` |
| `sort` | `object` | `` | An object specifying fields to sort by, and the respective sort order (`1` ascending, `-1` descending). Note: The driver currently appears to support only one sorting key. Operations: `find` |
| `limit` | `int` | `` | An explicit maximum number of documents to return. Operations: `find` |

