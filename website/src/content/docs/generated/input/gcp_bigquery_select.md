---
title: gcp_bigquery_select
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

> This component is mostly stable but breaking changes could still be made outside of major version releases if a fundamental problem with the component is found.
\{\{style="warning"\}\}
Executes a `SELECT` query against BigQuery and creates a message for each row received.

Introduced in version 3.63.0.


Once the rows from the query are exhausted, this input shuts down, allowing the pipeline to gracefully terminate (or the next input in a xref:components:inputs/sequence.adoc[sequence] to execute).


## Examples
<tabs>
<tab title="Example 0">
	
Here we query the public corpus of Shakespeare's works to generate a stream of the top 10 words that are 3 or more characters long:
	<code-block lang="yaml">
		
input:
  gcp_bigquery_select:
    project: sample-project
    table: bigquery-public-data.samples.shakespeare
    columns:
      - word
      - sum(word_count) as total_count
    where: length(word) >= ?
    suffix: |
      GROUP BY word
      ORDER BY total_count DESC
      LIMIT 10
    args_mapping: |
      root = [ 3 ]

	</code-block>
</tab>

</tabs>


## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `project` | `string` | `` | GCP project where the query job will execute. |
| `credentials_json` | `string` | `""` | An optional field to set Google Service Account Credentials json. |
| `table` | `string` | `` | Fully-qualified BigQuery table name to query. |
| `columns` | `array` | `` | A list of columns to query. |
| `where` | `string` | `` | An optional where clause to add. Placeholder arguments are populated with the `args_mapping` field. Placeholders should always be question marks (`?`). |
| `auto_replay_nacks` | `bool` | `true` | Whether messages that are rejected (nacked) at the output level should be automatically replayed indefinitely, eventually resulting in back pressure if the cause of the rejections is persistent. If set to `false` these messages will instead be deleted. Disabling auto replays can greatly improve memory efficiency of high throughput streams as the original shape of the data can be discarded immediately upon consumption and mutation. |
| `job_labels` | `object` | `{}` | A list of labels to add to the query job. |
| `priority` | `string` | `""` | The priority with which to schedule the query. |
| `args_mapping` | `string` | `` | An optional xref:guides:bloblang/about.adoc[Bloblang mapping] which should evaluate to an array of values matching in size to the number of placeholder arguments in the field `where`. |
| `prefix` | `string` | `` | An optional prefix to prepend to the select query (before SELECT). |
| `suffix` | `string` | `` | An optional suffix to append to the select query. |

