---
title: ttlru
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

Stores key/value pairs in a ttlru in-memory cache. This cache is therefore reset every time the service restarts.


The cache ttlru provides a simple, goroutine safe, cache with a fixed number of entries. Each entry has a per-cache defined TTL.

This TTL is reset on both modification and access of the value. As a result, if the cache is full, and no items have expired, when adding a new item, the item with the soonest expiration will be evicted.

It uses the package https://github.com/hashicorp/golang-lru/v2/expirable[`expirable`^]

The field init_values can be used to pre-populate the memory cache with any number of key/value pairs:

```yaml
cache_resources:
  - label: foocache
    ttlru:
      default_ttl: '5m'
      cap: 1024
      init_values:
        foo: bar
```

These values can be overridden during execution.




## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `cap` | `int` | `1024` | The cache maximum capacity (number of entries) |
| `default_ttl` | `string` | `"5m0s"` | The cache ttl of each element |
| `ttl` | `string` | `` | Deprecated. Please use `default_ttl` field |
| `init_values` | `object` | `{}` | A table of key/value pairs that should be present in the cache on initialization. This can be used to create static lookup tables. |
| `optimistic` | `bool` | `false` | If true, we do not lock on read/write events. The ttlru package is thread-safe, however the ADD operation is not atomic. |

