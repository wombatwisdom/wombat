---
title: lru
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

Stores key/value pairs in a lru in-memory cache. This cache is therefore reset every time the service restarts.


This provides the lru package which implements a fixed-size thread safe LRU cache.

It uses the package https://github.com/hashicorp/golang-lru/v2[`lru`^]

The field init_values can be used to pre-populate the memory cache with any number of key/value pairs:

```yaml
cache_resources:
  - label: foocache
    lru:
      cap: 1024
      init_values:
        foo: bar
```

These values can be overridden during execution.




## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `cap` | `int` | `1000` | The cache maximum capacity (number of entries) |
| `init_values` | `object` | `{}` | A table of key/value pairs that should be present in the cache on initialization. This can be used to create static lookup tables. |
| `algorithm` | `string` | `"standard"` | the lru cache implementation |
| `two_queues_recent_ratio` | `float` | `0.25` | is the ratio of the two_queues cache dedicated to recently added entries that have only been accessed once. |
| `two_queues_ghost_ratio` | `float` | `0.5` | is the default ratio of ghost entries kept to track entries recently evicted on two_queues cache. |
| `optimistic` | `bool` | `false` | If true, we do not lock on read/write events. The lru package is thread-safe, however the ADD operation is not atomic. |

