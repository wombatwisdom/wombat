---
title: sql
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

> This component is deprecated and will be removed in the next major version release. Please consider moving onto [alternative components](#alternatives).
\{\{style="warning"\}\}
Executes an arbitrary SQL query for each message.

Introduced in version 3.65.0.


== Alternatives

For basic inserts use the xref:components:outputs/sql.adoc[`sql_insert`] output. For more complex queries use the xref:components:outputs/sql_raw.adoc[`sql_raw`] output.




## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `driver` | `string` | `` | A database <<drivers, driver>> to use. |
| `data_source_name` | `string` | `` | Data source name. |
| `query` | `string` | `` | The query to execute. The style of placeholder to use depends on the driver, some drivers require question marks (`?`) whereas others expect incrementing dollar signs (`$1`, `$2`, and so on) or colons (`:1`, `:2` and so on). The style to use is outlined in this table:

| Driver | Placeholder Style |
|---|---|
| `clickhouse` | Dollar sign |
| `mysql` | Question mark |
| `postgres` | Dollar sign |
| `mssql` | Question mark |
| `sqlite` | Question mark |
| `oracle` | Colon |
| `snowflake` | Question mark |
| `trino` | Question mark |
| `gocosmos` | Colon | |
| `args_mapping` | `string` | `` | An optional xref:guides:bloblang/about.adoc[Bloblang mapping] which should evaluate to an array of values matching in size to the number of placeholder arguments in the field `query`. |
| `max_in_flight` | `int` | `64` | The maximum number of inserts to run in parallel. |
| `batching` | `object` | `` | Allows you to configure a xref:configuration:batching.adoc[batching policy]. |
| `batching.count` | `int` | `0` | A number of messages at which the batch should be flushed. If `0` disables count based batching. |
| `batching.byte_size` | `int` | `0` | An amount of bytes at which the batch should be flushed. If `0` disables size based batching. |
| `batching.period` | `string` | `""` | A period in which an incomplete batch should be flushed regardless of its size. |
| `batching.check` | `string` | `""` | A xref:guides:bloblang/about.adoc[Bloblang query] that should return a boolean value indicating whether a message should end a batch. |
| `batching.processors` | `array` | `` | A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. Please note that all resulting messages are flushed as a single batch, therefore splitting the batch into smaller batches using these processors is a no-op. |

