---
title: hdfs
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

Sends message parts as files to a HDFS directory.


Each file is written with the path specified with the 'path' field, in order to have a different path for each object you should use function interpolations described xref:configuration:interpolation.adoc#bloblang-queries[here].

## Performance

This output benefits from sending multiple messages in flight in parallel for improved performance. You can tune the max number of in flight messages (or message batches) with the field `max_in_flight`.




## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `hosts` | `array` | `` | A list of target host addresses to connect to. |
| `user` | `string` | `""` | A user ID to connect as. |
| `directory` | `string` | `` | A directory to store message files within. If the directory does not exist it will be created. |
| `path` | `string` | `"${!count(\"files\")}-${!timestamp_unix_nano()}.txt"` | The path to upload messages as, interpolation functions should be used in order to generate unique file paths. |
| `max_in_flight` | `int` | `64` | The maximum number of messages to have in flight at a given time. Increase this to improve throughput. |
| `batching` | `object` | `` | Allows you to configure a xref:configuration:batching.adoc[batching policy]. |
| `batching.count` | `int` | `0` | A number of messages at which the batch should be flushed. If `0` disables count based batching. |
| `batching.byte_size` | `int` | `0` | An amount of bytes at which the batch should be flushed. If `0` disables size based batching. |
| `batching.period` | `string` | `""` | A period in which an incomplete batch should be flushed regardless of its size. |
| `batching.check` | `string` | `""` | A xref:guides:bloblang/about.adoc[Bloblang query] that should return a boolean value indicating whether a message should end a batch. |
| `batching.processors` | `array` | `` | A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. Please note that all resulting messages are flushed as a single batch, therefore splitting the batch into smaller batches using these processors is a no-op. |

