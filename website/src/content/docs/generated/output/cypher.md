---
title: cypher
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the corresponding source file under internal/impl/<provider>.
-->

> This component is experimental and therefore subject to change or removal outside of major version releases.
\{\{style="warning"\}\}

Introduced in version 4.37.0.


The cypher output type writes a batch of messages to any graph database that supports the Neo4j or Bolt protocols.


## Examples
<tabs>
<tab title="Example 0">
	This is an example of how to write to Neo4j Aura
	<code-block lang="yaml">
		
output:
  cypher:
    uri: neo4j+s://example.databases.neo4j.io
    cypher: |
      MERGE (product:Product {id: $id})
        ON CREATE SET product.name = $product,
                       product.title = $title,
                       product.description = $description,
    args_mapping: |
      root = {}
      root.id = this.product.id 
      root.product = this.product.summary.name
      root.title = this.product.summary.displayName
      root.description = this.product.fullDescription
    basic_auth:
      enabled: true
      username: "${NEO4J_USER}"
      password: "${NEO4J_PASSWORD}"

	</code-block>
</tab>

</tabs>


## Fields
| Field | Type | Default | Description |
|:-------|:------|:---------|:-------------|
| `uri` | `string` | `` | The connection URI to connect to.
See https://neo4j.com/docs/go-manual/current/connect-advanced/[Neo4j's documentation^] for more information. |
| `cypher` | `string` | `` | The cypher expression to execute against the graph database. |
| `database_name` | `string` | `""` | Set the target database for which expressions are evaluated against. |
| `args_mapping` | `string` | `` | The mapping from the message to the data that is passed in as parameters to the cypher expression. Must be an object. By default the entire payload is used. |
| `basic_auth` | `object` | `` | Allows you to specify basic authentication. |
| `basic_auth.enabled` | `bool` | `false` | Whether to use basic authentication in requests. |
| `basic_auth.username` | `string` | `""` | A username to authenticate as. |
| `basic_auth.password` | `string` | `""` | A password to authenticate with. |
| `basic_auth.realm` | `string` | `""` | The realm for authentication challenges. |
| `tls` | `object` | `` | Custom TLS settings can be used to override system defaults. |
| `tls.skip_cert_verify` | `bool` | `false` | Whether to skip server side certificate verification. |
| `tls.enable_renegotiation` | `bool` | `false` | Whether to allow the remote server to repeatedly request renegotiation. Enable this option if you're seeing the error message `local error: tls: no renegotiation`. |
| `tls.root_cas` | `string` | `""` | An optional root certificate authority to use. This is a string, representing a certificate chain from the parent trusted root certificate, to possible intermediate signing certificates, to the host certificate. |
| `tls.root_cas_file` | `string` | `""` | An optional path of a root certificate authority file to use. This is a file, often with a .pem extension, containing a certificate chain from the parent trusted root certificate, to possible intermediate signing certificates, to the host certificate. |
| `tls.client_certs` | `array` | `[]` | A list of client certificates to use. For each certificate either the fields `cert` and `key`, or `cert_file` and `key_file` should be specified, but not both. |
| `tls.client_certs[].cert` | `string` | `""` | A plain text certificate to use. |
| `tls.client_certs[].key` | `string` | `""` | A plain text certificate key to use. |
| `tls.client_certs[].cert_file` | `string` | `""` | The path of a certificate to use. |
| `tls.client_certs[].key_file` | `string` | `""` | The path of a certificate key to use. |
| `tls.client_certs[].password` | `string` | `""` | A plain text password for when the private key is password encrypted in PKCS#1 or PKCS#8 format. The obsolete `pbeWithMD5AndDES-CBC` algorithm is not supported for the PKCS#8 format.

Because the obsolete pbeWithMD5AndDES-CBC algorithm does not authenticate the ciphertext, it is vulnerable to padding oracle attacks that can let an attacker recover the plaintext. |
| `batching` | `object` | `` | Allows you to configure a xref:configuration:batching.adoc[batching policy]. |
| `batching.count` | `int` | `0` | A number of messages at which the batch should be flushed. If `0` disables count based batching. |
| `batching.byte_size` | `int` | `0` | An amount of bytes at which the batch should be flushed. If `0` disables size based batching. |
| `batching.period` | `string` | `""` | A period in which an incomplete batch should be flushed regardless of its size. |
| `batching.check` | `string` | `""` | A xref:guides:bloblang/about.adoc[Bloblang query] that should return a boolean value indicating whether a message should end a batch. |
| `batching.processors` | `array` | `` | A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. Please note that all resulting messages are flushed as a single batch, therefore splitting the batch into smaller batches using these processors is a no-op. |
| `max_in_flight` | `int` | `64` | The maximum number of messages to have in flight at a given time. Increase this to improve throughput. |

